<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" id="uwo">

<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app217.us.archive.org';v.server_ms=218;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="/_static/js/bundle-playback.js?v=1WaXNDFE" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=txqj7nKC" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("https://web.archive.org/web");
  __wm.wombat("https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php","20211203001840","https://web.archive.org/","web","/_static/",
	      "1638490720");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=S1zqJCYt" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>

    <link rel="stylesheet" type="text/css" href="https://web.archive.org/web/20211203001840cs_/https://static.weboffice.uwa.edu.au/visualid/styles/id-core.css?r54" media="all"/>
    <link rel="stylesheet" type="text/css" href="https://web.archive.org/web/20211203001840cs_/https://static.weboffice.uwa.edu.au/visualid/styles/id-nonvisual.css" media="aural, braille"/>
    <link rel="stylesheet" type="text/css" href="https://web.archive.org/web/20211203001840cs_/https://static.weboffice.uwa.edu.au/visualid/styles/id-print.css" media="print"/>
    <script type="text/JavaScript" src="https://web.archive.org/web/20211203001840js_/https://static.weboffice.uwa.edu.au/visualid/scripts/id-core.js?r218"></script>

    <link media="all" href="https://web.archive.org/web/20211203001840cs_/https://static.weboffice.uwa.edu.au/visualid/styles/id-cat.php?include=captionbox+dual-info-box+form+landing-3-col+landing-rightcol-linklist-icons+landing-student-types+list-profiles+pgrs-profile+site-sections" type="text/css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css" href="https://web.archive.org/web/20211203001840cs_/https://web.csse.uwa.edu.au/_designs/newcss/site_themes/school-csse.css" media="all"/>

    <title>CITS2002 Systems Programming : The University of Western Australia</title>
    <link rel="stylesheet" type="text/css" href="/web/20211203001840cs_/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/cits2002.css" media="all"/>

</head>

<body class="pagetype-inside faculty-ecm"><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20211203001840/https%3A//teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><div id="wm-ipp-inside">
  <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
    <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
      <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php" onfocus="this.focus();this.select();" style="flex:1;"/><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20211203001840" /><input type="submit" value="Go" />
      </form>
      <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
                <div class="s" id="wm-nav-captures" style="flex:1;">
                    <a class="t" href="/web/20211203001840*/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php" title="See a list of every capture for this URL">1 capture</a>
          <div class="r" title="Timespan for captures of this URL">03 Dec 2021</div>
          </div>
        <div class="k">
          <a href="" id="wm-graph-anchor">
            <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
              <canvas id="wm-sparkline-canvas" width="700" height="27" border="0"></canvas>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="n">
      <table>
        <tbody>
          <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
          <tr class="m">
            <td class="b" nowrap="nowrap">Nov</td>
            <td class="c" id="displayMonthEl" title="You are here: 00:18:40 Dec 03, 2021">DEC</td>
            <td class="f" nowrap="nowrap">Jan</td>
          </tr>
          <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
          <tr class="d">
            <td class="b" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" /></td>
            <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;" title="You are here: 00:18:40 Dec 03, 2021">03</td>
            <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
          </tr>
          <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
          <tr class="y">
            <td class="b" nowrap="nowrap">2020</td>
            <td class="c" id="displayYearEl" title="You are here: 00:18:40 Dec 03, 2021">2021</td>
            <td class="f" nowrap="nowrap">2022</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="r" style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
      <div id="wm-btns" style="text-align:right;height:23px;">
                <span class="xxs">
          <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        </span>
                <a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
        <a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" class="xxs">
        <a href="/web/20211203001840/http://web.archive.org/screenshot/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php"
           id="wm-screenshot"
           title="screenshot">
          <span class="wm-icon-screen-shot"></span>
        </a>
        <a href="#" id="wm-video" title="video">
          <span class="iconochive-movies"></span>
        </a>
        <a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
        <a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
      <div style="padding-right:2px;text-align:right;white-space:nowrap;">
        <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs" style="font-size:80%;">About this capture</span></a>
      </div>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
        <div id="wm-capinfo-notice" source="api"></div>
                <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/save-page-now-outlinks)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/save-page-now-outlinks" target="_new"><span class="wm-title">Save Page Now Outlinks</span></a></div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="wm-ipp-print">The Wayback Machine - https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(700,27,25,2,"web","https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/p2020-1/summary.php","20211203001840",1996,"/_static/",["/_static/css/banner-styles.css?v=S1zqJCYt","/_static/css/iconochive.css?v=qtvMKcIJ"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->
 
    <div id="bodycontainer">
        <!--begin #IEroot targeting [by Hiroki Chalfant]-->
        <!--[if IE]><div id="ieAny"><![endif]-->
        <!--[if lte IE 6]><div id="ie6down"><![endif]-->
        <!--[if IE 7]><div id="ie7"><![endif]-->
        <!--[if gte IE 8]><div id="ie8up"><![endif]-->
        <!-- Topmost block, including the search form -->

        <div id="headercontainer">
            <!--[if IE 6]><div class="ie6expander"><div class="ie6sizer"><![endif]-->
            <!-- The top, black bodied part of the header -->

            <div class="primary">
                <img style="display: none;" id="print_header" alt="" src="https://web.archive.org/web/20211203001840im_/https://static.weboffice.uwa.edu.au/visualid/graphics/uwacrest-print.gif"/>
                <a href="https://web.archive.org/web/20211203001840/https://www.uwa.edu.au/"><img id="uwa_crest" alt="The University of Western Australia" width="200" height="54" src="https://web.archive.org/web/20211203001840im_/https://static.weboffice.uwa.edu.au/visualid/graphics/uwacrest.gif"/></a>
                <div id="headertitle">
                    CITS2002 Systems Programming
                </div>

            </div><!--end .primary-->

      <!-- Graduated grey strip, containing the search form -->
            <div class="secondary">
                <div class="vmiddle_outer">
                    <div class="vmiddle_middle">
                        <div class="vmiddle_inner">
                            <div id="locallinks">
                                <ul>
                                    <li>
                                        <a href="https://web.archive.org/web/20211203001840/https://www.uwa.edu.au/schools/physics-mathematics-computing">School Home</a>
                                    </li>
                                    <li>
                                        <a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/">Computer Science and Software Engineering</a>
                                    </li>
                                    <li>
                                </ul>
                            </div><!--end #locallinks-->

                            <form action="https://web.archive.org/web/20211203001840/https://www.uwa.edu.au/search.php3" method="get" name="uwasearch" id="uwasearch">
                                <fieldset>
                                    <input type="hidden" name="site" value="search"/>
                                    <input type="hidden" name="hl" value="en"/>
                                    <input type="hidden" name="thisurl" value="https://web.csse.uwa.edu.au"/>
                                    <ul>
                                        <li>
                                            <label for="words">Search the UWA website</label>
                                            <input type="text" class="searchbox" name="words" id="words" value="Site Search"/>
                                        </li>
                                        <li>
                                            <label for="query">Search the UWA website</label>
                                            <select name="query" id="query">
                                                <option label="UWA Website" value="search" selected="selected">UWA Website</option>
                                                <option label="The Sub-site" value="site">The Sub-site</option>
                                                <option label="People" value="person">People</option>
                                                <option label="UWA Expertise" value="xpert">UWA Expertise</option>
                                                <option label="Structure" value="department">Structure</option>
                                                <option label="Intranet" value="intranet">Intranet</option>
                                            </select>
                                        </li>
                                        <li>
                                            <label for="submitsearch">Submit My Search</label>
                                            <input type="image" value="Submit" name="submitsearch" id="submitsearch" alt="Go" title="Go" src="https://web.archive.org/web/20211203001840im_/https://static.weboffice.uwa.edu.au/visualid/graphics/search-button-go.gif"/>
                                        </li>
                                    </ul>
                                </fieldset>
                            </form>
                        </div>
                    </div>
                </div><!--end .vmiddle_*-->
            </div><!--end .secondary-->
            <!--[if IE 6]></div></div><![endif]--><!--end .ie6expander, .ie6sizer-->
        </div><!--end #headercontainer-->

        <div id="centrecontainer2col">
            <!--[if IE 6]><div class="ie6expander"><div class="ie6sizer"><![endif]-->
            <div class="internal">
                <div id="navcontainer">
                    <ul>
                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/index.php">Home</a></li>
                        <li><a href="https://web.archive.org/web/20211203001840/https://secure.csse.uwa.edu.au/run/help2002">help2002</a></li>
                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/schedule.php"><b>Schedule</b></a></li>
<!--
                        <li><a href="https://lms.uwa.edu.au/webapps/blackboard/execute/announcement?method=search&context=course_entry&course_id=_49769_1&handle=announcements_entry&mode=view">Recordings&nbsp;(via&nbsp;LMS)</a></li>
-->

</li>
                        <li><a href="https://web.archive.org/web/20211203001840/https://lms.uwa.edu.au/bbcswebdav/institution/Unit_Outlines_2021/CITS2002_SEM-2_2021/CITS2002_SEM-2_2021_UnitOutline.html">Unit outline</a></li>

<!--
                        <li><a href="https://teaching.csse.uwa.edu.au/units/CITS2002/projects/project2.php"><font color=red>Project-2</font></a><p></li>

                        <li><a href="https://teaching.csse.uwa.edu.au/units/CITS2002/examinations.php"><font color=red>Final examination</font></a><p></li>
-->


                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/c-books.php">C textbooks</a></li>
                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/os-books.php">OS textbooks</a></li>

<!--
                        <li><a href="https://secure.csse.uwa.edu.au/run/cssubmit">cssubmit</a></li>
                        <li><a href="https://secure.csse.uwa.edu.au/run/csmarks">csmarks</a></li>
-->
                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/resources.php">Information resources</a></li>
                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/extra-reading.php">Extra reading</a><p></li>

                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/workeffectively.php">Working effectively</a></li>

                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/past-projects/">Past projects</a></li>

                        <li><a href="https://web.archive.org/web/20211203001840/https://teaching.csse.uwa.edu.au/units/CITS2002/feedback/">Recent student feedback</a></li>

                    </ul>
                </div><!--end #navcontainer-->

                <div class="mainrhs"></div>
                <div id="pagecontainer">
                    <div id="pagebanner" class="clearfix">
                        <div class="underlay">
                            <div class="overlay">
                                &nbsp;
                            </div>
                        </div><!--end .underlay, .overlay-->
                        <div class="copy">
                            <h1>Department of Computer Science and Software Engineering</h1>
                            <h2>CITS2002 Systems Programming</h2>
                        </div>
                    </div><!--end #pagebanner-->

<link media="all" href="/web/20211203001840cs_/https://teaching.csse.uwa.edu.au/units/CITS2002/cits2002.css" type="text/css" rel="stylesheet"/>

<h3>Project 1 2020</h3>
<!--
see also: <a href="project1-clarifications.php">Project 1 clarifications</a>
</h3>
-->

<p class="box">
    <b>The goal of this project
    is to implement a program to simulate a pre-emptive process scheduler
    supporting inter-process communication using pipes</b>.
    <br>
    &nbsp;
    <br>
    Successful completion of the project will develop your understanding of
    some advanced features of the C99 programming language,
    and your understanding of how an operating system can manage processes
    and inter-process communication.
</p>


<h4>Project description</h4>

<!--
<p>
<span style="font-size: 1.1em; color: red;"><b>Download, understand, and then extend this C99 starting file:
<a href="pipesim.c">pipesim.c</a></b></span>
</p>
<p>
<span style="font-size: 1.1em; color: red;"><b>Run a web-based sample solution:
<a href="https://secure.csse.uwa.edu.au/run/pipesim-sample">pipesim-sample</a></b></span>
</p>
-->

UNIX-based operating systems employ pre-emptive process scheduling policies
to execute hundreds of processes 'simultaneously' on a single CPU.
Process take turns to execute on the CPU until they
explictly exit,
perform an operation that would stall their execution,
or until their rationed time on the CPU has elapsed.
</p>
<p>
Only a single process may be 'on' the CPU at one time,
and this process is uniquely marked as being in the <b>Running</b> state.
All other processes waiting for their turn on the CPU are
in the <b>Ready</b> state,
recorded in a first-in-first-out queue,
unless they are marked as being in one of a number of blocked states
because they recently requested a blocking operation.
</p>
<p>
All processes are uniquely identified by a positive integer value
termed a <i>process-identifier</i>, or PID.
When the system has finished booting (at TIME=0),
only a single process exists (with PID=1) and is executing on the CPU.
Like all (future) processes,
this initial process may use the CPU to perform some computation or
request actions of the operating system kernel by making <i>system-calls</i>.
</p>

<p>
<h4>System-calls</h4>

The system simulated in this project supports a limited number of <i>system-calls</i>.
Processes can only make system-calls when executing on the CPU.
These are described here,
along with reference to the possible <i>execution states</i> of the processes.
</p>

<dl>
<dt>compute()</dt>
<dd>
    A process may execute on the CPU for a requested number
    of microseconds by calling the <i>compute()</i> system-call.
    The process does not occupy (does not own) the CPU for the requested time,
    uninterrupted.
    Instead, its use of the CPU is interleaved with other processes in a <i>pre-emptive</i> manner.
    </p>
    <p>
    For example,
    consider a computer system with a <i>scheduling-quantum</i> of 1000 microseconds.
    If a process requests to compute (on the CPU) for 3200 microseconds,
    it will first occupy the CPU for 1000 microseconds,
    leave the CPU,
    be marked as <b>Ready</b> (<b>Running&rarr;Ready</b>) while other process(es) execute,
    occupy the CPU for another 1000 microseconds (<b>Ready&rarr;Running</b>),
    and so on...,
    until its final turn on the CPU (for the remaining 200 microseconds).
    It will then leave the CPU,
    be marked as <b>Ready</b> (<b>Running&rarr;Ready</b>)
    ready to make its next system-call when it next runs on the CPU.
    </p>
</dd>

<dt>sleep()</dt>
<dd>
    A process may relinquish its use of the CPU by calling the <i>sleep()</i> system-call,
    indicating for how many microseconds it wishes to sleep.
    The process will leave the CPU, and be marked as <b>Sleeping</b> (<b>Running&rarr;Sleeping</b>).

    When (at least) the requested time has elapsed
    the process will be marked as <b>Ready</b> (<b>Sleeping&rarr;Ready</b>).
    </p>
</dd>

<dt>exit()</dt>
<dd>
    A process may request its own termination by calling the <i>exit()</i> system-call.
    When a process terminates, its resources (if any?) are deallocated,
    any pipes that it had opened for reading or writing are closed (see later),
    though its PID is not re-used (re-assigned) for future processes.
    The parent of the terminating process may be waiting for the child to terminate.
<!--
See also: <a href="project1-clarifications.php">Project 1 clarifications</a>
of Sept 7th.
-->
    </p>
</dd>

<dt>fork()</dt>
<dd>
    A process may create a new process by calling the <i>fork()</i> system-call.
    The process calling <i>fork()</i> is termed the <i>parent</i> process,
    and the newly created process is termed the <i>child</i> process.

    The new child process
<!--
is initialised with a copy of all attributes
    of the parent process,
    except that its cumulative execution time is set to zero,
    and it
-->
    receives the next available PID,
    and is connected to any pipes created by its parent that don't yet
    have a 'reading end' (see later).

    Both the child and then the parent (in that order) are marked as <b>Ready</b> to run.
    </p>
</dd>

<dt>wait()</dt>
<dd>
    A parent process may request to be informed of the termination of one of its
    child processes by calling the <i>wait()</i> system-call.
    Until the specified child process terminates
    the parent process will be marked as <b>Waiting</b> (<b>Running&rarr;Waiting</b>).

    When the child process eventually terminates,
    the parent process will be marked as <b>Ready</b> (<b>Waiting&rarr;Ready</b>).
    </p>
</dd>

<dt>pipe()</dt>
<dd>
    A process may request a new inter-process communication buffer
    by calling the <i>pipe()</i> system-call.

    A <i>pipe</i> is a unidirectional in-memory array of bytes (of finite size).
    Pipes connect two processes -
    exactly one process may write data to a pipe,
    and exactly one other process may read data from it.

    Each process has a limited number of <i>pipe-descriptors</i> -
    non-negative integers which refer to either the 'writing end' or
    the 'reading end' of pipes to which they are connected.
    Processes use their value of the pipe-descriptor to identify which
    pipe they are writing to or reading from.
    </p>
    <p>
    When a process creates a new pipe,
    it immediately becomes the 'writing end' of the pipe.
    The pipe-descriptor on which it should write its data is the value returned
    by calling <i>pipe()</i>.

    When a parent process forks a new child process,
    the new child process immediately becomes the 'reading end'
    of all of its parent's pipes that don't yet have a reader.

    When a pipe has both a writer and a reader,
    the two processes may communicate by writing to and reading from that pipe.

    The process calling <i>pipe()</i> will be marked as <b>Ready</b> (<b>Running&rarr;Ready</b>).
    </p>
</dd>

<dt>writepipe()</dt>
<dd>
    A process may write data to a pipe using the <i>writepipe()</i> system-call.
    Pipes may hold upto a fixed amount of data (typically 4KB).
    </p>
    <p>
    A process attempting to write more data than will fit in the pipe
    will write some (possibly none) of its data to the pipe,
    and then block until some space becomes available in the pipe.

    A writing process will be marked as <b>Writing</b> (<b>Running&rarr;Writing</b>)
    and remain blocked until all bytes of its
    <i>writepipe()</i> request has been written to the pipe,
    after which it will be marked as <b>Ready</b> (<b>Writing&rarr;Ready</b>).
    </p>
</dd>

<dt>readpipe()</dt>
<dd>
    A process may read data from a pipe using the <i>readpipe()</i> system-call.
    </p>
    <p>
    A reading process will be marked as <b>Reading</b> (<b>Running&rarr;Reading</b>)
    and remain blocked until all bytes of its
    <i>readpipe()</i> request has been read from the pipe,
    after which it will be marked as <b>Ready</b> (<b>Reading&rarr;Ready</b>).
    </p>

    <p>
    <b>Note: the implementation and operation of pipes required for this
    project is slightly different, and much simpler, than 'true' pipes in
    a UNIX-based operating system</b>.
</dd>
</dl>

</p>

<p>
<hr style="text-align: center; width: 85%;">

<h4>Eventfiles</h4>
An <i>eventfile</i> is a simple text file
containing the historic record of the system-calls
requested by the processes of a simple computer system.

After the computer system has booted,
only a single process (with PID=1) will be running.
Thus the first line of every <i>eventfile</i> is a system-call request by PID=1,
and no other processes will appear until that first process performs a <i>fork()</i>.
The very last line of an <i>eventfile</i> will record the last <i>exit()</i> call,
after which no processes will be running (and the system halts).
</p>

<p>
Each line of the file consists of a number of white-space separated words.
The first word is always a positive PID,
indicating which process is performing the action described on the remainder of the line.
The second word on each line is always the name of a system-call requested by the process.

Some lines will also have one or two additional words which further describe
input paramete(s) for the system-call,
or the value returned by the system-call.
The supported system-calls are:
</p>

<table style="margin-left: 2em;">
<tr>
<th>Meaning</th>
<th>Example from eventfile</th>
</tr>

<tr>
<td>&nbsp;</td>
<td style="padding-left: 2.0em;">... previous lines ...</td>
</tr>

<tr>
<td> compute&nbsp;&nbsp;<i>input-parameter: microseconds-required-on-CPU</i> </td>
<td style="padding-left: 2.0em;">12  compute  2400</td>
</tr>

<tr>
<td> sleep&nbsp;&nbsp;<i>input-parameter: microseconds-to-sleep</i> </td>
<td style="padding-left: 2.0em;">12  sleep  5000</td>
</tr>

<tr>
<td> pipe&nbsp;&nbsp;<i>output-result: new-writing-pipe-descriptor</i> </td>
<td style="padding-left: 2.0em;">12  pipe  4</td>
</tr>

<tr>
<td> fork&nbsp;&nbsp;<i>output-result: PID-of-new-child-process</i> </td>
<td style="padding-left: 2.0em;">12  fork  18</td>
</tr>

<tr>
<td> readpipe&nbsp;&nbsp;<i>two-input-parameters: reading-pipe-descriptor&nbsp;&nbsp;number-of-bytes</i> </td>
<td style="padding-left: 2.0em;">18  readpipe  4  400</td>
</tr>

<tr>
<td> writepipe&nbsp;&nbsp;<i>two-input-parameters: writing-pipe-descriptor&nbsp;&nbsp;number-of-bytes</i> </td>
<td style="padding-left: 2.0em;">12  writepipe  4  1200</td>
</tr>

<tr>
<td>&nbsp;</td>
<td style="padding-left: 2.0em;">18  readpipe  4  400</td>
</tr>

<tr>
<td> wait&nbsp;&nbsp;<i>input-parameter: PID-to-wait-for</i> </td>
<td style="padding-left: 2.0em;">12  wait  18</td>
</tr>

<tr>
<td>&nbsp;</td>
<td style="padding-left: 2.0em;">18  readpipe  4  400</td>
</tr>

<tr>
<td> exit&nbsp;&nbsp;</td>
<td style="padding-left: 2.0em;">18  exit</td>
</tr>

<tr>
<td>&nbsp;</td>
<td style="padding-left: 2.0em;">12  exit</td>
</tr>
</table>
</p>

<p>
<b>The provided starting code parses
the information in the <i>eventfiles</i></b>.

You will need to store this information in your own data-structures
and variables before you can commence the simulation.
You may assume that the format of each <i>eventfile</i> is correct,
and its data consistent,
so you do not need to check for any errors in the <i>eventfile</i>.
</p>

<!--
<p>
<dl>
<dt>Some sample eventfiles (and, of course, you should write and test with your own eventfiles):</dt>
<dd>
<a href="ev0">ev0</a>&nbsp;&nbsp;
<a href="ev1">ev1</a>&nbsp;&nbsp;
<a href="ev2">ev2</a>&nbsp;&nbsp;
<a href="ev3">ev3</a>&nbsp;&nbsp;
<a href="ev4">ev4</a>&nbsp;&nbsp;
<a href="ev5">ev5</a>&nbsp;&nbsp;
<a href="ev6">ev6</a>&nbsp;&nbsp;
<a href="ev7">ev7</a>&nbsp;&nbsp;
<a href="ev8">ev8</a>&nbsp;&nbsp;
<a href="ev9">ev9</a>&nbsp;&nbsp;
<a href="ev10">ev10</a>&nbsp;&nbsp;
<a href="ev11">ev11</a>&nbsp;&nbsp;
</dd>
</dl>
-->


<!--
<p>
<div style="font-size: 1.2em; color: red;">
<b>Run the sample solution:
<a href="https://secure.csse.uwa.edu.au/run/besttq-sample">https://secure.csse.uwa.edu.au/run/besttq-sample</a></b>
<p></p>
-->

<p>
<hr style="text-align: center; width: 85%;">

<h4>Project requirements</h4>

<ul id="bullet">
<li> You are required to develop and test a program that
determines (through simulated execution, not by attempting to find a formula)
the total <i>time taken</i> (in microseconds)
for all events in the <i>eventfile</i> to complete.
Each eventfile commences (at TIME=0) with the first system-call made by the initial process
(PID=1) and finishes with the last call to <i>exit()</i> by the last process.
(at TIME=timetaken).
</p>
<p>
The total <i>time taken</i> will incorporate the
accumulated time taken by processes while executing (on the CPU),
time taken switching processes from one state to another,
time taken by running processes to write and read data to and from pipes,
and any 'dead' time if all processes are sleeping.
</p>
<p>
Your program can print out any additional information (debugging?) that you
want -
<b>just ensure that the <i>last line</i> is of the form</b>
"timetaken&nbsp;&nbsp;160000".
</p>
</li>

<li> Your project must be written in C99 in a single source-code
file named <b>pipesim.c</b>
<br>
This is the only file you should submit for marking.
<br>
Your submission will be compiled with the C compiler
arguments <b>-std=c99&nbsp;-Wall&nbsp;-Werror</b>,
and marks will not be awarded if your submission does not compile.
</p>
</li>

<li> Your program, named <b>pipesim</b>,
should accept command-line arguments providing:
the name of the <i>eventfile</i>;
a positive integer representing the <i>scheduling time-quantum</i> (in microseconds);
and
a positive integer representing the <i>pipe buffer size</i> (in bytes).
</p>

<p>
<p class="shell">
<span class="prompt">prompt&gt;</span> ./pipesim eventfile timequantum-usecs pipesize-bytes
</p>
</li>

<li> You should start by reading, understanding, and then extending
<!--
<span style="font-size: 1.1em; color: red;"><a href="pipesim.c"><b>the starting code</b></a></span>.
 -->
the starting code.
You should not modify any of the provided constants in the file
(they will be used during marking),
but may add your own additional constants.
</p>
</li>

<li> You may use any functions from the standard C99 library
but must not employ any 3rd-party code or libraries to complete your project.
If in doubt, please ask.
</p>
</li>

</ul>
</dl>

<!--

<p>
<hr style="text-align: center; width: 85%;">

<h4>Assessment</h4>

<b>This project is INDIVIDUAL work</b>.
<br>
The project deadline is <b>5PM Fri 11th September (end of week 7)</b>,
and is worth <b>30% of your final mark</b> for CITS2002.
</p>

<p>
The project will be marked out of 40.
20 of the possible 40 marks will come from the correctness of your solution.
The remaining 20 marks will come from your programming style,
including your use of meaningful comments,
well chosen identifier names,
appropriate choice of basic data-structures and data-types,
and
appropriate choice of control-flow constructs.
</p>

<p>
During the marking, attention will
obviously be given to the correctness of your solution. However, a correct
and efficient solution should not be considered as the perfect, nor
necessarily desirable, form of solution. Preference will be given to well
presented, well documented solutions that use the appropriate features of
the language to complete tasks in an easy to understand and easy to follow
manner. That is, do not expect to receive full marks for your project simply
because it works correctly. Remember, a computer program should not only
convey a message to the computer, but also to other human programmers.
</p>

<p>
Your project will be marked on a computer running a standard version of Linux.
No allowance will be made for a
program that <i>"works at home"</i> but not on a Linux computer,
so be sure that your code compiles and executes correctly
on a Linux system before you submit it.
</p>

<p>
<hr style="text-align: center; width: 85%;">

<h4>Submission requirements</h4>

<ol>
<li> The deadline for the project is <b>5PM Friday 11th September (end of week 7)</b>.
    <p></p>
    </li>

<li> Your submission's C99 source file should each begin with the
    C99 block comment:
    <p></p>

<p class="shell">
/*  CITS2002 Project 1 2020
    Name:                student-name
    Student number(s):   student-number
 */
<p></p>

<li> <b>You must submit your project electronically using
    <a href="https://secure.csse.uwa.edu.au/run/cssubmit"><i>cssubmit</i></a>.</b>
    You should submit a single C99 source-code file,
    named <b>pipesim.c</b>.
    You do not need to submit any additional testing scripts or files
    that you used while developing your project.

    The <i>cssubmit</i> facility will give you a receipt of your submission.
    You should print and retain this receipt in case of any dispute.
    Note also that the <i>cssubmit</i> facility does not archive submissions and
    will simply overwrite any previous submission with your latest submission.
    </p>
    </li>

<li> This project is subject to UWA's 
<a href="https://www.governance.uwa.edu.au/procedures/policies/policies-and-procedures?method=document&id=UP07%2F23">
Policy on Assessment</a> - particularly &sect;10.2
<i>Principles of submission and penalty for late submission</i>.

In accordance with this policy, you may <i>discuss</i> with other students
the general principles required to understand this project,
but the work you submit must be the result of your own efforts.

All projects will be compared using software that detects significant
similarities between source code files.
Students suspected of plagiarism will be interviewed and will be required to
demonstrate their full understanding of their project submission.
</ol>
</p>

<h4>Clarifications</h4>

Please post requests for clarification about any aspect of the project to
<a href="https://secure.csse.uwa.edu.au/run/help2002"><i>help2002</i></a>
so that all students may remain equally informed.
<br>
Significant clarifications will be also added to the
<a href="project1-clarifications.php"><b>project clarifications</b></a> webpage.
</p>

<p>
<hr style="text-align: center; width: 85%;">
</p>
-->


<p>
Good luck!
<p></p>
Chris McDonald.
<p></p>

                                        </div> <!-- end pagecontainer -->

		    </div> <!-- end internal -->
		</div> <!-- end centrecontainer2col -->


    <!-- Lowest block, with link lists and some page information -->
    <div id="footercontainer"> 
        <!--[if IE 6]><div class="ie6expander"><div class="ie6sizer"><![endif]-->

        <div class="internal">

<!--begin-footer-firstcol-->
            <div class="column" id="footerfirstcol">
                <div class="shifter"><h1>The&nbsp;University&nbsp;of Western&nbsp;Australia</h1></div>
                <ul class="discretelinks">
                  <li><a href="https://web.archive.org/web/20211203001840/https://www.uwa.edu.au/">University Homepage</a></li>
                  <li><a href="https://web.archive.org/web/20211203001840/https://studyat.uwa.edu.au/">Future Students</a></li>
                  <li><a href="https://web.archive.org/web/20211203001840/https://www.uwa.edu.au/current">Current Students</a></li>
                  <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/staff">Staff</a></li>
                  <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/business">Business and Industry</a></li>
                  <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/alumni">Alumni and Friends</a></li>
                  <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/media">Media</a></li>
                </ul>
            </div><!--end .column-->
<!--end-footer-firstcol-->

            
            <div class="column">
                <h2>Department of Computer Science and Software Engineering</h2>

                <ul class="discretelinks">
                    <li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/courses">Courses</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/research">Research</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/business">Business and industry</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/community">Community</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/alumni">Alumni</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/students">Current Students</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/staff">Staff</a></li><li><a href="https://web.archive.org/web/20211203001840/https://web.csse.uwa.edu.au/contact">Contact us</a></li>                </ul>
                
						

            </div>

<!--begin-footer-universityinfo-->
            <div class="column">
                <h2>University information</h2>
                <p><acronym title="Commonwealth Register of Institutions and Courses for Overseas Students">CRICOS</acronym> Code: 00126G</p>
                <ul class="discretelinks">
                    <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/accessibility">Accessibility</a></li>
                    <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/campus_map">Campus map</a></li>
                    <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/contact">Contact the University</a></li>
                    <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/indigenous_commitment">Indigenous Commitment</a></li>
                    <li><a href="https://web.archive.org/web/20211203001840/https://uwa.edu.au/terms_of_use">Terms of use</a></li>
                </ul>
            </div><!--end .column-->
<!--end-footer-universityinfo-->

            
            <div id="page_info">
                <img id="info_arrow" width="16" height="15" alt="" src="https://web.archive.org/web/20211203001840im_/https://static.weboffice.uwa.edu.au/visualid/graphics/footer-infoarrow.gif"/>
                <h2>This Page</h2>
		    <script language="javascript">
		    <!--
			    lastu = Date(document.lastModified);
			    document.write("<p>Last updated:<br /> " + lastu + "</p>")
		    //-->
		    </script>
                <p>Written&nbsp;by:<br><a href="/web/20211203001840/https://teaching.csse.uwa.edu.au/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="47042f352e34690a24032829262b230732302669222332692632">[email&#160;protected]</a>&nbsp;and&nbsp;<a href="/web/20211203001840/https://teaching.csse.uwa.edu.au/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="397854504d584f58177d584d4d58794c4e58175c5d4c17584c">[email&#160;protected]</a></p>
            </div>

        </div><!--end .internal-->

        <!--[if IE 6]></div></div><![endif]--><!--end .ie6expander, .ie6sizer-->
    </div><!--end #footercontainer-->


<!--[if IE]></div></div><![endif]--><!--end #IEroot targeting-->
</div><!--end #bodycontainer-->

<script data-cfasync="false" src="/web/20211203001840js_/https://teaching.csse.uwa.edu.au/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script></body>
</html>
<!--
     FILE ARCHIVED ON 00:18:40 Dec 03, 2021 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 08:11:16 Jul 20, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 117.613 (10)
  exclusion.robots: 0.189
  exclusion.robots.policy: 0.179
  cdx.remote: 0.06
  esindex: 0.011
  LoadShardBlock: 52.601 (3)
  PetaboxLoader3.datanode: 63.319 (4)
  load_resource: 93.178
  PetaboxLoader3.resolve: 43.721
-->